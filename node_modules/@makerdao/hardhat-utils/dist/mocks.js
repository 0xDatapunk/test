"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.deployContractMock = void 0;
const smock_1 = require("@eth-optimism/smock");
const ethers_1 = require("ethers");
const fs_1 = require("fs");
const ts_essentials_1 = require("ts-essentials");
async function deployContractMock(path, opts = {}) {
    var _a;
    const artifact = JSON.parse(fs_1.readFileSync(path, 'utf-8'));
    ts_essentials_1.assert(artifact.abi, `${path} doesn't contain key abi`);
    const factory = new ethers_1.ContractFactory(artifact.abi, (_a = artifact.bytecode) !== null && _a !== void 0 ? _a : '0x');
    return await smock_1.smockit(factory, opts);
}
exports.deployContractMock = deployContractMock;
//# sourceMappingURL=mocks.js.map